@import "tailwindcss";

:root {
  --background: #000000;
  --foreground: #ededed;

  /* Sophisticated Matrix color palette */
  --matrix-black: #000000;
  --matrix-deep-black: #0a0a0a;
  --matrix-darkest: #050505;

  --matrix-green-primary: #00ff41;
  --matrix-green-light: #39ff14;
  --matrix-green-dark: #00cc33;
  --matrix-green-darker: #008822;

  --matrix-green-glow: rgba(0, 255, 65, 0.15);
  --matrix-green-subtle: rgba(0, 255, 65, 0.05);
  --matrix-green-border: rgba(0, 255, 65, 0.2);

  /* Typography scale - perfect ratios */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  --font-size-5xl: 3rem;
  --font-size-6xl: 3.75rem;
  --font-size-7xl: 4.5rem;
  --font-size-8xl: 6rem;
  --font-size-9xl: 8rem;

  /* Perfect letter spacing */
  --tracking-tighter: -0.05em;
  --tracking-tight: -0.025em;
  --tracking-normal: 0em;
  --tracking-wide: 0.025em;
  --tracking-wider: 0.05em;
  --tracking-widest: 0.1em;

  /* Golden ratio spacing */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 0.75rem;
  --spacing-lg: 1rem;
  --spacing-xl: 1.618rem;
  --spacing-2xl: 2.618rem;
  --spacing-3xl: 4.236rem;
  --spacing-4xl: 6.854rem;
  --spacing-5xl: 11.09rem;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-family-sans: "__Noto_Sans_KR_dc8e80", "__Noto_Sans_KR_Fallback_dc8e80", "__Inter_a64ecd", "__Inter_Fallback_a64ecd", system-ui, -apple-system, sans-serif;
  --font-mono: ui-monospace, monospace;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #000000;
    --foreground: #ededed;
  }
}

/* Ultra-smooth scrolling */
html {
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

body {
  background: var(--matrix-black);
  color: var(--foreground);
  overflow-x: hidden;
  font-family: var(--font-noto-sans-kr), var(--font-inter), system-ui, -apple-system, sans-serif;
}

/* Custom selection styling */
::selection {
  background-color: var(--matrix-green-primary);
  color: var(--matrix-black);
}

::-moz-selection {
  background-color: var(--matrix-green-primary);
  color: var(--matrix-black);
}

/* Premium focus states - 폼 요소 제외 */
*:focus-visible:not(input):not(textarea):not(select) {
  outline: 1px solid var(--matrix-green-primary);
  outline-offset: 1px;
}

/* Sophisticated animations */
@keyframes matrix-glow {
  0%, 100% {
    box-shadow: 0 0 20px var(--matrix-green-glow),
                0 0 40px var(--matrix-green-subtle);
  }
  50% {
    box-shadow: 0 0 30px var(--matrix-green-glow),
                0 0 60px var(--matrix-green-subtle),
                0 0 80px rgba(0, 255, 65, 0.03);
  }
}

@keyframes matrix-pulse {
  0%, 100% {
    opacity: 0.8;
  }
  50% {
    opacity: 1;
  }
}

@keyframes matrix-shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

@keyframes matrix-scan {
  0%, 100% {
    transform: translateY(-100%);
    opacity: 0;
  }
  50% {
    opacity: 0.3;
  }
}

@keyframes matrix-fall {
  0% {
    transform: translateY(-100%);
    opacity: 0;
  }
  10% {
    opacity: 0.3;
  }
  90% {
    opacity: 0.3;
  }
  100% {
    transform: translateY(200%);
    opacity: 0;
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes fade-in-up {
  0% {
    opacity: 0;
    transform: translate3d(0, 20px, 0); /* GPU 가속 */
  }
  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0); /* GPU 가속 */
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  opacity: 0;
  will-change: transform, opacity; /* GPU 가속 활성화 */
}

/* 모바일: 딜레이 제거 (빈 화면 방지) */
@media (max-width: 767px) {
  .animate-fade-in-up {
    animation-delay: 0ms !important;
  }
}

/* 애니메이션 완료 후 will-change 제거를 위한 최적화 */
@media (prefers-reduced-motion: reduce) {
  .animate-fade-in-up {
    animation: none;
    opacity: 1;
    transform: none;
    will-change: auto;
  }
}

@keyframes pulse-glow {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 0.6;
    transform: scale(1.1);
  }
}

/* Glass morphism utilities */
.glass-morphism {
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  border: 1px solid rgba(0, 255, 65, 0.1);
}

.glass-morphism-strong {
  background: rgba(0, 0, 0, 0.85);
  backdrop-filter: blur(20px) saturate(200%);
  -webkit-backdrop-filter: blur(20px) saturate(200%);
  border: 1px solid rgba(0, 255, 65, 0.15);
}

/* Premium gradient border */
.gradient-border {
  position: relative;
  background: var(--matrix-black);
  border-radius: inherit;
}

.gradient-border::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg,
    transparent 0%,
    var(--matrix-green-primary) 50%,
    transparent 100%);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.gradient-border:hover::before {
  opacity: 1;
}

/* Smooth easing functions */
.ease-out-expo {
  transition-timing-function: cubic-bezier(0.19, 1, 0.22, 1);
}

.ease-in-out-quint {
  transition-timing-function: cubic-bezier(0.83, 0, 0.17, 1);
}

.ease-spring {
  transition-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* ============================================================
   Blog Article Prose Styles

   Inspired by: Medium, Notion, Stripe Blog, Vercel Blog
   Goal: Maximum readability with generous whitespace
   ============================================================ */

.prose-article {
  /* Base prose setup */
  --article-max-width: 720px;
  --article-text-primary: #f1f5f9;     /* slate-100 */
  --article-text-secondary: #cbd5e1;   /* slate-300 */
  --article-text-muted: #94a3b8;       /* slate-400 */
  --article-accent: #34d399;           /* emerald-400 */
  --article-accent-dim: #10b981;       /* emerald-500 */
  --article-border: rgba(51, 65, 85, 0.6);  /* slate-700/60 */
  --article-bg-subtle: rgba(15, 23, 42, 0.6); /* slate-900/60 */
}

/* Content width constraints */
.prose-article :where(p, h1, h2, h3, h4, h5, h6, ul, ol, blockquote, pre, table, hr) {
  max-width: var(--article-max-width);
}

/* =========================
   Typography - Body Text
   ========================= */
.prose-article :where(p) {
  font-size: 1rem;         /* 16px mobile */
  line-height: 1.8;
  color: var(--article-text-primary);
  margin-bottom: 1.75em;
  letter-spacing: 0.01em;
  font-weight: 400;
}

@media (min-width: 768px) {
  .prose-article :where(p) {
    font-size: 1.125rem;   /* 18px desktop */
    line-height: 1.9;
    margin-bottom: 2em;
  }
}

/* =========================
   Typography - Headings
   ========================= */
.prose-article :where(h1, h2, h3, h4, h5, h6) {
  font-weight: 700;
  color: #f1f5f9;  /* slate-100 - softer than pure white */
  letter-spacing: -0.025em;
}

/* H2 - Major sections */
.prose-article :where(h2) {
  font-size: 1.75rem;      /* 28px mobile */
  margin-top: 3rem;
  margin-bottom: 1.5rem;
  padding-bottom: 0.75rem;
  border-bottom: 2px solid var(--article-border);
  line-height: 1.3;
  font-weight: 700;
  scroll-margin-top: 6rem;  /* 96px: header + padding */
}

@media (min-width: 768px) {
  .prose-article :where(h2) {
    font-size: 2rem;       /* 32px desktop */
    margin-top: 3.5rem;
    margin-bottom: 1.75rem;
    padding-bottom: 1rem;
  }
}

/* H3 - Subsections */
.prose-article :where(h3) {
  font-size: 1.375rem;     /* 22px mobile */
  margin-top: 2.5rem;
  margin-bottom: 1.25rem;
  line-height: 1.4;
  font-weight: 700;
  scroll-margin-top: 6rem;  /* 96px: header + padding */
}

@media (min-width: 768px) {
  .prose-article :where(h3) {
    font-size: 1.5rem;     /* 24px desktop */
    margin-top: 3rem;
    margin-bottom: 1.5rem;
  }
}

/* H4 - Minor headings */
.prose-article :where(h4) {
  font-size: 1.25rem;
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  line-height: 1.4;
}

@media (min-width: 768px) {
  .prose-article :where(h4) {
    font-size: 1.5rem;
  }
}

/* =========================
   Links
   ========================= */
.prose-article :where(a) {
  color: var(--article-accent);
  font-weight: 500;
  text-decoration: underline;
  text-decoration-color: rgba(52, 211, 153, 0.4);
  text-underline-offset: 4px;
  text-decoration-thickness: 1.5px;
  transition: color 0.2s ease, text-decoration-color 0.2s ease;
}

.prose-article :where(a):hover {
  color: #6ee7b7;          /* emerald-300 */
  text-decoration-color: #6ee7b7;
}

/* =========================
   Strong & Emphasis
   ========================= */
.prose-article :where(strong) {
  color: #f8fafc;  /* slate-50 - softer than pure white */
  font-weight: 700;
}

.prose-article :where(em) {
  font-style: italic;
  color: var(--article-text-secondary);
}

/* =========================
   Lists
   ========================= */
.prose-article :where(ul, ol) {
  color: var(--article-text-primary);
  margin-top: 1.5em;
  margin-bottom: 1.5em;
  padding-left: 1.75em;
}

.prose-article :where(li) {
  font-size: 1rem;         /* 16px mobile */
  line-height: 1.7;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

@media (min-width: 768px) {
  .prose-article :where(li) {
    font-size: 1.0625rem;  /* 17px desktop */
    line-height: 1.8;
  }
}

.prose-article :where(li)::marker {
  color: var(--article-accent);
  font-weight: 600;
}

/* Nested lists */
.prose-article :where(li > ul, li > ol) {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

/* =========================
   Blockquotes
   ========================= */
.prose-article :where(blockquote) {
  border-left: 5px solid var(--article-accent-dim);
  background: var(--article-bg-subtle);
  color: var(--article-text-secondary);
  font-style: italic;
  font-size: 1.125rem;
  line-height: 1.9;
  padding: 1.5rem 1.75rem;
  margin: 2.5rem 0;
  border-radius: 0 0.75rem 0.75rem 0;
  box-shadow:
    0 4px 6px -1px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

@media (min-width: 768px) {
  .prose-article :where(blockquote) {
    font-size: 1.1875rem;
    padding: 2rem 2.25rem;
    margin: 3rem 0;
  }
}

.prose-article :where(blockquote p) {
  margin-bottom: 0;
}

.prose-article :where(blockquote p:not(:last-child)) {
  margin-bottom: 1em;
}

/* =========================
   Code - Inline
   ========================= */
.prose-article :where(code):not(pre code) {
  color: #6ee7b7;          /* emerald-300 */
  background: rgba(15, 23, 42, 0.9);
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace;
  font-size: 0.9em;
  font-weight: 500;
  padding: 0.2em 0.5em;
  border-radius: 0.375rem;
  border: 1px solid rgba(51, 65, 85, 0.5);
}

/* Remove backtick quotes */
.prose-article :where(code)::before,
.prose-article :where(code)::after {
  content: none;
}

/* =========================
   Code - Blocks
   ========================= */
.prose-article :where(pre) {
  background: rgba(2, 6, 23, 0.95);
  border: 2px solid var(--article-border);
  border-radius: 1rem;
  padding: 1.5rem;
  margin: 2.5rem 0;
  overflow-x: auto;
  box-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.2),
    0 8px 10px -6px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

@media (min-width: 768px) {
  .prose-article :where(pre) {
    padding: 2rem;
    margin: 3rem 0;
    border-radius: 1.25rem;
  }
}

.prose-article :where(pre code) {
  background: transparent;
  border: none;
  padding: 0;
  font-size: 0.875rem;
  line-height: 1.7;
}

/* =========================
   Tables
   ========================= */
.prose-article :where(table) {
  width: 100%;
  border-collapse: collapse;
  margin: 2.5rem 0;
  font-size: 1rem;
}

@media (min-width: 768px) {
  .prose-article :where(table) {
    font-size: 1.0625rem;
    margin: 3rem 0;
  }
}

.prose-article :where(th) {
  background: rgba(15, 23, 42, 0.8);
  color: #f1f5f9;  /* slate-100 - softer than pure white */
  font-weight: 700;
  text-align: left;
  padding: 1rem 1.25rem;
  border: 2px solid var(--article-border);
}

.prose-article :where(td) {
  color: var(--article-text-primary);
  padding: 1rem 1.25rem;
  border: 1px solid rgba(51, 65, 85, 0.5);
}

.prose-article :where(tr:nth-child(even) td) {
  background: rgba(15, 23, 42, 0.3);
}

/* =========================
   Horizontal Rules
   ========================= */
.prose-article :where(hr) {
  border: none;
  border-top: 2px solid var(--article-border);
  margin: 4rem 0;
}

@media (min-width: 768px) {
  .prose-article :where(hr) {
    margin: 5rem 0;
  }
}

/* =========================
   Images & Figures
   ========================= */
.prose-article :where(img) {
  max-width: 100%;
  height: auto;
  border-radius: 0.75rem;
  margin: 2rem 0;
}

.prose-article :where(figure) {
  margin: 2.5rem 0;
}

.prose-article :where(figcaption) {
  color: var(--article-text-muted);
  font-size: 0.9375rem;
  text-align: center;
  margin-top: 0.75rem;
}

/* =========================
   First paragraph emphasis
   ========================= */
.prose-article > p:first-of-type {
  font-size: 1.0625rem;    /* 17px mobile */
  line-height: 1.8;
  color: #f8fafc;          /* slate-50 */
}

@media (min-width: 768px) {
  .prose-article > p:first-of-type {
    font-size: 1.1875rem;  /* 19px desktop */
    line-height: 1.9;
  }
}
